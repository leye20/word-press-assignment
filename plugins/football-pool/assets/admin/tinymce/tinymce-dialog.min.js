/*
 Copyright 2018 Antoine Hurkmans
 This is part of the Football Pool WordPress plugin.
 See https://wordpress.org/plugins/football-pool/ for details and license.
*/
jQuery(document).ready(function(){parent.tinymce.activeEditor.get_shortcode=FootballPoolTinyMCE.get_shortcode});
var FootballPoolTinyMCE=function(c){return{display_shortcode_options:function(e){""!==e?(c("#mce-set-parameters-header").show(),e=c("#"+e),0===e.length&&(e=c("#no-shortcode-params")),e.addClass("current"),c(".shortcode-options-panel").not(e).removeClass("current")):(c(".shortcode-options-panel").removeClass("current"),c("#mce-set-parameters-header").hide())},toggle_count_texts:function(e){var f=["#text-1","#text-2","#text-3","#text-4"];c("#"+e).is(":checked")?FootballPoolAdmin.set_input_param("placeholder",
f,"none"):FootballPoolAdmin.restore_input_param("placeholder",f);FootballPoolAdmin.disable_inputs(f,e)},toggle_select_row:function(e,f){e=c(e).attr("for");c("#fp-"+f+" select").each(function(){c(this).attr("id")==e?c(this).show("slow"):c(this).hide("slow")})},get_shortcode:function(){var e="",f=!1,h=!1,k="",d="";var g=c("#shortcode").val();var b="#"+g;switch(g){case "fp-link":b=c("#slug",b).val();""!==b&&(d+=' slug="'+b+'"');break;case "fp-register":f=h=!0;var a=c("#link-title",b).val();""!==a&&(d+=
' title="'+a+'"');c("#link-window",b).is(":checked")&&(d+=' new="1"');break;case "fp-countdown":a=c("input[name=count_to]:checked",b).val();"date"===a?(a=c("#count-date",b).val(),""!==a&&(d+=' date="'+a+'"')):"match"===a&&(a=c("#count-match",b).val(),0<a||"next"===a)&&(d+=' match="'+a+'"');c("#count-inline",b).is(":checked")&&(d+=' display="inline"');a=c("#count-no-texts",b).is(":checked")?"none":[c("#text-1",b).val(),c("#text-2",b).val(),c("#text-3",b).val(),c("#text-4",b).val()].join(";");""!==
a&&";;;"!==a&&(d+=' texts="'+a+'"');a=c("#count-format",b).val();0<a&&(d+=' format="'+a+'"');b=c("#count-format-string",b).val();""!==b&&(d+=' format_string="'+b+'"');break;case "fp-group":b=c("#group-id",b).val();0<b&&(d+=" id="+b);break;case "fp-ranking":a=c("#ranking-id",b).val();0<a&&(d+=' ranking="'+a+'"');a=c("#ranking-league",b).val();if(0<a||"user"===a)d+=' league="'+a+'"';a=c("#ranking-num",b).val();0<a&&(d+=' num="'+a+'"');a=c("input:radio[name=ranking-date]:checked",b).val();"custom"===
a&&(a=c("#ranking-date-custom-value",b).val());""!==a&&(d+=' date="'+a+'"');break;case "fp-user-list":a=c("#user-list-league",b).val();if(0<a||"user"===a)d+=' league="'+a+'"';break;case "fp-predictions":a=c("#predictions-match",b).val();0<a&&(d+=' match="'+a+'"');a=c("#predictions-question",b).val();0<a&&(d+=' question="'+a+'"');a=c("#predictions-text",b).val();""!==a&&(d+=' text="'+a+'"');(b=c("#predictions-use-querystring",b).is(":checked"))&&(d+=' use_querystring="yes"');break;case "fp-user-score":a=
c("#user-score-ranking-id",b).val();0<a&&(d+=' ranking="'+a+'"');a=c("#user-score-user-id",b).val();""!==a&&(d+=' user="'+a+'"');a=c("#user-score-text",b).val();""!==a&&(d+=' text="'+a+'"');a=c("input:radio[name=user-score-date]:checked",b).val();"custom"===a&&(a=c("#user-score-date-custom-value",b).val());""!==a&&(d+=' date="'+a+'"');break;case "fp-user-ranking":a=c("#user-ranking-ranking-id",b).val();0<a&&(d+=' ranking="'+a+'"');c("#user-ranking-league-rank",b).is(":checked")&&(d+=' league_rank="yes"');
a=c("#user-ranking-user-id",b).val();""!==a&&(d+=' user="'+a+'"');a=c("#user-ranking-text",b).val();""!==a&&(d+=' text="'+a+'"');a=c("input:radio[name=user-ranking-date]:checked",b).val();"custom"===a&&(a=c("#user-ranking-date-custom-value",b).val());""!==a&&(d+=' date="'+a+'"');break;case "fp-predictionform":a=c("#match-id",b).val()||[];0<a.length&&(d+=' match="'+a.join(",")+'"');a=c("#matchtype-id",b).val()||[];0<a.length&&(d+=' matchtype="'+a.join(",")+'"');b=c("#question-id",b).val()||[];0<b.length&&
(d+=' question="'+b.join(",")+'"');break;case "fp-matches":a=c("#matches-group-id",b).val();""!==a&&(d+=' group="'+a+'"');a=c("#matches-match-id",b).val()||[];0<a.length&&(d+=' match="'+a.join(",")+'"');a=c("#matches-matchtype-id",b).val()||[];0<a.length&&(d+=' matchtype="'+a.join(",")+'"');break;case "fp-next-matches":a=c("#next-matches-group-id",b).val();""!==a&&(d+=' group="'+a+'"');a=c("#next-matches-matchtype-id",b).val()||[];0<a.length&&(d+=' matchtype="'+a.join(",")+'"');a=c("input:radio[name=next-matches-date]:checked",
b).val();"custom"===a&&(a=c("#next-matches-date-custom-value",b).val());""!==a&&(d+=' date="'+a+'"');a=c("#next-matches-num",b).val();0<a&&(d+=' num="'+a+'"');break;case "fp-league-info":a=c("#league-info-league-id",b).val();0<a&&(d+=' league="'+a+'"');a=c("input:radio[name=league-info-info]:checked",b).val();""!==a&&(d+=' info="'+a+'"');a=c("#league-info-ranking-id",b).val();0<a&&(d+=' ranking="'+a+'"');b=c("#league-info-format",b).val();""!==b&&(d+=' format="'+b+'"');break;case "fp-scores":a=c("#scores-league",
b).val();0<a&&(d+=' league="'+a+'"');a=c("#scores-user-id",b).val()||[];0<a.length&&(d+=' users="'+a.join(",")+'"');a=c("#scores-match-id",b).val()||[];0<a.length&&(d+=' match="'+a.join(",")+'"');a=c("#scores-matchtype-id",b).val()||[];0<a.length&&(d+=' matchtype="'+a.join(",")+'"');(b=c("#scores-use-querystring",b).is(":checked"))&&(d+=' use_querystring="yes"');break;case "fp-plugin-option":a=c("#plugin-option-key",b).val();""!==a&&(d+=' option="'+a+'"');a=c("#plugin-option-default",b).val();""!==
a&&(d+=' default="'+a+'"');b=c("input:radio[name=plugin-option-type]:checked",b).val();""!==b&&(d+=' type="'+b+'"');break;case "fp-money-in-the-pot":a=c("#money-in-the-pot-league",b).val()||[],0<a.length&&(Array.isArray(a)&&(a=a.join(",")),d+=' league="'+a+'"'),a=c("#money-in-the-pot-amount",b).val(),""!==a&&(d+=' amount="'+a+'"'),b=c("#money-in-the-pot-format",b).val(),""!==b&&(d+=' format="'+b+'"')}""!==g&&(h&&""!==parent.tinymce.activeEditor.selection.getContent()&&(k=parent.tinymce.activeEditor.selection.getContent({format:"text"})),
e="["+g+d+"]"+k+(f?"[/"+g+"]":""));return e}}}(jQuery);
